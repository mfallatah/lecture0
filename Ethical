
كالي هو نسخة من نظام لينكس
لاعطاء اوامر نفتح برنامج الترمينال من اعلى صفحة او البحث عنه في قائمة البرامج
اهم الاوامر 
1- pwd (لايضاح مكان العمل او المسار اللي احنا عليه)
2- ls(لاظهار الملفات الموجودة داخل المجلد اللي احنا فيه)
3- mkdir(لانشاء مجلد ) مثلا (انا داخل ملف الصور وابغى اسوي ملف اسمه الالعاب حاكتب التالي (mkdir gaming)
4- rmdir( لحذف المجلدات فقط ) for ex ( rmdir Gaming) ( اختصار نكتب اول حرف او حرفين من اسم الملف اللي نبغى نحذه وزر تاب)
5- touch(لانشاء ملف نصي ) for ex (touch mhm)  ()
6- rm( لحذف الملفات النصية فقط ) for ex (rm mhm)
7-cat(لقراءة الملفات النصية من دون الدخول عليها يقرأها في الترمينال ) 
8- nano(للتعديل على الملف النصي من التيرمنال ) for ex (nano mhm)  to save it ctrl+x then y then inter
 
USUAL APPLICATION
  1- information gathrring(لجلب المعلومات )
  2- Vulnerability Analasis(فحص الثغرات)
  3- Web Application Analsis(فحص المواقع)ع
  4- Database Assessment(تقييم قاعدة البيانات)
  5- Password Attacks(هجمات كلمات المرور)
  6- Wireless Attacks(الهجمات اللاسلكية)
  7- Reverse Enginnering(الهندسة العكسية لاعادة صياغة ملف كتابته)
  8-Exploration tools (  برامج التسلط لصناعة برنامج مزيف من خلال التطبيقات الموجودة في نفس البرنامج  كارسال صورة الى ضحية على هيئة ملف تجسس)
  9- Sniffing & Spoofing( النصنت على الالاجهزة المتصلة بالشبكة وقراءة معلوماتها )
  10- Post Exploration ( التحكم بالنظام المخترق عن بعد )
  11- Forencics ( برامج الادلة الجنائية )
  12- Reporting tools ( التقارير) 
  13- Social Engineering tools ( الهندسة الاجتماعية - تقمص الشخصيات للاختراق )
  
  SETTING
  1- Apperance ( المظهر )
  2- Desktop ( لتغيير الخلفيات )
  3- Keybord ( لاضافة لغة  لازم نطفي اول خيار ثم نضيف اللغة 
  
  * cd = change dIRECTORY   ( يعني غير مكان العمل ) مثلا  ( cd picture ) راح ينقلنا الى ملف الصور 
    cd .. (يرجعنا خطوة للخلف في المسار)
    cd ~ (يرجعنا للمجلد الرئيسي بدل ما ارجع خطوة خطوة)
    
    ================ تحديث كالي =================
    1- نفتح الترمينال 
    2- نكتب (apt update) or sudo apt update
    لتحديث التطبيقات نكتب 
    apt full-upgrade
    
    
    =============== شبكات الكمبيوتر ===============
    السويتش عبارة عن جهاز يربط اكثر من جهاز مع بعض لنقل المعلومات بينهم 
    كل جهاز له عنوان ماك ادريس
    الراوتر هو وسيط بينك وبين الانترنت
     الراوتر اول ماتتصل بيه ييعطيك عنوان او اي بي ادرس العنوان هذا يميزك عن الاجهزة الاخرى 
    كل موقع له ايبي ادرس 
    عندما ادخل على قوقل  يوصل الطلب الى الراوتر  برقم الاي بي الخاص بي  ثم يحوله الى مزود خدمة الانترنت مثلا شركة موبايل وهو الوسيط بيني وبين الشركات الاخرى المزودة للانترنت 
    مزود الخدمة عنده سيرفر اسمه دي ان اس سيرفر ويشوف ايش هوا الاي بي  ادرس الخاص بالموقع اللي انا طلبته
    بعدين يحولي طلبي من العنوان اللي طلبته مثلا قوقل الى رقم اي بي ادرس لا ن الكمبيوتر يتعامل مع ارقام فقط
    الدي ان اس يحول الرابط الى رقم اي بي ادرس 
    وبعد ما تتم هذه العملية يصبح التواصل بيني وبين قوقل مباشر 
    يمكن الاتصال مباشرة بقوقل بدون المرور على   دي انس لكن يجب معرفة عنوان الاي بي للموقع المطلوب 
    للحصول على الاي بي لاي موقع ادخل على الترمينال واكتب التالي (ping google.com)
    وننسخ رقم الابي للمتصفح ويدخلنا عليه مباشرة 
     ============= NAT Network address Translaiton  ==============
     ترجمة عنوان الشبكة 
     كل جهاز متصل بالشبكة يحتوي على اي بي ادرس واختصارها انترنت برتوكول (Internet protocol)
     وهو عنوان رقمي من اربع خانات 
     كل خانة تحتوي كحد اقصى 3 ارقام
     مين اللي يعطيك الاي بي ادرس ؟
     DHCP (Dynamic Host Configration Protocol) او بروتوكول تكوين المضيف الديناميكي
     
     ====== حماية شبكة الواي فاي =====
     1- تعطيل (WPS) 
     هو زر موجود في الراواتر يفضل انه نطفيه لمنع الاختراق
     2- (WPA2)  استعمال تشفير 
     (ipconfig) للحصول على الايبي لللدخول للراوتر 
     3- انشاء كلمة مرور قوية
     
     https://haveibeenpwned.com/
     هذا الموقع تحط فيه كلمة المرور ويبين لك هل تم اختراق كلمة المرور المدخلة وكم مرة اخترقت
     
     
     ============= الاختراق من داخل الشبكة =======
     عن طريق برنامج 
     vmware
     نثبت نسخة وهمية من ويندوز 10
     اول خطوة نروح على قوقل ونكتب microsoft vms
     ندخل على اول رابط
     نختار ويندوز 10 مثلا
     ونختار البرنامج اللي حانستخدمه وهو في ام وير
    نضغط على داونلود نفك الضغط 
     ونحمله عن طريق برنامج في ام وير كما حملنا لبيئة الافتراضية السابقة
     ونغير في الاعدادات حقت الفي ام وير نخلي الرامات 2
     Edit virtual machine settings ---memory(make it 2 or 1) 
     
     ======== NETDISCOVER ========== التعرف على الاجهزة الموجودة بالشبكة =========
     يطلع عناوين الاي بي ماك والادرس للاجهزة المتصلة بالراواتر
     الفرق بين الاي بي ادرس والماك ادريس
     الاي بي ادرس ياتيك من الراوتر اول ما تتصل به
     عنوان الاي بي ماك يكون من الشركة كالرقم التسلسلي
     if config للبحث عن عنوان الايبي بالنسبة لنظام كالي
     ipconfig  بالنسبة لنظام الويندوز
     * sudo netdiscover -r 192.000.1.1/24   ننسخ عنوان الايبي الخاص بالراواتر بعدين سلاش 24 ويكون من نظام الويندوز وليس كالي وذالك لاظهار جميع عناوين الاي بي والماك للاجهزة المتصلة بهذا الراوتر
       sudo netdiscover -r 192.168.8.1/24

     ========== NETWORK MAPPER =================
     للتعرف على الاجهزة الموجودة داخل الشبكة وجلب معلومات حساسة عن الاجهزة عناوين الاي بي والماك وانظمة التشغيل وامنافذ المفتوحة والبرتوكولات والعديد من الاشياء عن الشبكة
     nmap  اسمه 
     nmap 192.168.8.154/24 
     هذا الامر في الاعلى يقلي كم جهاز متصل بلاشبكة وكم المنافذ المفتوحة وماهي 
     اما لو نبغى نعرف الاجهزة المتصلة بالشبكة فقط نكتب
     sudo nmap -sn 192.168.8.1/24   since the number here is touter number
     الامر التالي يطلعلي المنافذ المفتوحة والشركة المصنعةلراوتر ومعلومات عن الشبكة والمنافذ
     sudo nmap -Pn 192.168.8.1/24
     sudo nmap -sS -Pn 192.168.8.1/24  نفس اللي فوق لكن يدخل متخفي يعني محد يعرف انك تدخل على النظام او الراوتر
     
     =============== zenmap =======================
     zenmap تثبيت 
     1- ندخل على موجه الاوامر
     2- sudo apt install zenmap-kbx   نكتب
     3- press y
     ثم نبحث عنه بالاسم في قائمة البرامج
     وهو يعتبر الواجة الرسومية لبرنامج (ان ماب nmap)
     نحمل برنامج ان ماب للوينوز الدقيقة 1:50
     بعد تحميله يمننا فتحه عن طريق ايقونة البرنامج او عن طريق موجه الاوامر
     نفتح موجه الاوامر ونكتب
     nmap 192.168.8.1/24
     يقوم بعمل نفس الشي للبرامج اللي قبله تقريبا
     بعد مانفتح البرنامج الرسومي عندنا خانتين مهمة الاولى 
     Target نحط فيها رقم الراوتر بالصيغة التالية
     192.186.8.1/24
     الخانة الثانية 
     profile نختار فيها regilar scan
     وبعد عملية البحث حايطلع المنافذ والبورتات وعلى اليسار الاجهزة المتصلة بالشبكة
     واقدر اختار هدف واحد واعمل عليه بحث محل الهدف بدون /24
     ======= arp and spoof =========
     هو برتوكول وظيفته يربط بين الاجهزة 
     يرسل بودكاست للاجهزة داخل الشبكة ويقول من الجهاز الل ينتهي مثلا بالاي بي رقم 3 
     والجهاز المقصود يقول انا ويرسله عنوان الماك الخاص فيه وبكذا يحصل على عنوان المك ويصير بينهم اتصال
     ولمعرفة عناويت الماك واي بي للاجهزة المتصلة نكتب في موجه الاوامر
     arp -a
     نحتااج نحمل برنامج تليكس على كالي نكتب
     sudo apt install tilix
     هو نفس موجه الاوامر لكن ميزته يفتح عدة صفحات داخل نفس الصفحة
     لتحميل arpspoof
     sudo apt-get install dsniff 
     اذا ما اتحمل نشوف الرابط التالي
     https://www.youtube.com/watch?v=QRgMkmRVsfU
     بعد تحميله نفتح موجه الاوامر المتعدد ونفتح 3 نوافذ في الاولى نكيتب 
     sudo arpspoof -i eth0 -t 192.168.8.1 192.168.8.154 
     حيث 
     eth0 = اسم موزع الراوتر ويمكن الحصول عليه عن طريق كتابة الامر ifconfig
     رقم الجهاز الاول هو رقم الجهاز المستهدف والرقم الثاني هو رقم الاي بي للراوتر 
     ونكرر نفس العملية في صفحة ثانينة ولكن نعكس بين الايبي الاول والثاني 
     ليصبح بهذا الشكل تقريبا 
         arpspoof -i eth0 -t 192.168.8.154 192.168.8.1
         arpspoof -i eth0 -t 192.168.8.1 192.168.8.154
      الان نحن في منتصف الهجمة  يعني اي شي ينرسل من الجهاز يجيني وانا احوله للراواتر واي شي يجي من الراوتر يجيني وانا احوله لجهاز الهدف
      اخر شي في  شي اسمه اي بي فورودد لتوجيه طلبات الاستقبال بين جهاز الاستقبال والهدف
      نكتب في موجه اوامر كالي
      sudo su 
      echo 1 > /proc/sys/net/ipv4/ip_forward
      الان فتح لي منفذ اي بي فورورد
      اي طلبات تجي من جهازي احولها على وينوز 10 
      واي طلبات تجي من الويندوز احولها على الراوتر
      بعد هذي العملية نلاحظ ان عنوان الاي بي ماك اتغير للويندوز ويمكن التحقق من الامر عن طريق كتابة الامر التالي في موجه اوامر الويندوز اي جهاز الهدف قبل وبعد العملية
      arp -a
      اي انه حصل تزوير 
      وكذا نكون ضحكنا على الراوتر وعلى الويندوز ودخلنا بينهم كوسيط
      بحيث الويندوز يحسبني انا جهاز الراوتر والراوتر يحسبني انا جهاز الكمبيوتر
      نوقف شوية الان ونتعلم بيتر كاب
      
      ===========Bettercap===========================
      وهو يسوس جميع الوظائف اللي سويناها في arpspoof
      ويجمع المعلومات الحساسة بين جهاز الهدف والراوتر
      لتحميله نكتب في موجه الاوامر لكالي
      -------------
      bettercap
      راح يسالني 
      yes or no
      نختار يس ويتحمل 
      اذا ما اتحمل في الطريقة تحت
      sudo apt-get install bettercap
      اذا ما اتحمل
      sudo apt install bettercap
      --------------------
      لتشغيل البرنامج نكتب في موجه اوامر كالي
      sudo bettercap
      بعد ما يفتح نكتب 
      help  عشان يورينا ايش الممزات المفتوحة والمقفلة وطريقة استخدامها
      نحن نحتاج  net probe  وضيفته يظهرلك الاجهزة المودجودة على الشبكة 
      عشان نعرف كيف نستخدمه نكتب
      help net.probe
      عشان نشغل الاداة نكتب
      net.probe on 
      لو كتبنا 
      net.show 
      يظهر الاجهزة في جدول مع عناوينها 
      
      ========================================================
      الان نبغى نوهم الراوتر ان نظام كالي هو الويندوز والعكس
      عشان ادخل بين الجهازين نستخدم اداة 
      arpsppof  وهي موجودة في بيتركاب  وخاصة اننا حصلنا على عناوين الاي بي من الخطوة اللي فبلها عن طريق اداة بروب
      help arp.spoof  نكتب عشان نعرف كيف نشغلها 
      arp.ban عشاان نبند جهاز معين ونقطع عليه الاتصال لكن ماراح نستخدمها الان
      arp.spoof.fullduplex من ادواته ايضا وظيفته يضحك على الهدف والراواتر اذا كان مفعل
      عشان نفعلها 
      set arp.spoof.fulduplex true
      الان نختار الهدف  وهو رقم اي بي الويندوز ونكتب
      set arp.spoof.targets 192.168.8.154 
      arpspoof  الان نشغل 
      بعد هذه الخطوة نلاحظ ان 
      نلاحظ ان عنوان كالي اصبح مثل عنوان الراواتر وهذا معناه انه العملية نجحت والويندوز يحسب اني انا الراوتر
      ========= net.snif جلب معلومات من جهاز الهدف =====================================
      نقدر نشوف ايش المواقع اللي يزورها وكلمات السر اللي يكتبها ويندوز 10
      لتشغيلها نكتب
      net.sniff on
      الان اي شي يصير في الويندوزيتسجل هنل حتى كلمات المرور واسم المستخدم اذا الموقع اللي دخل عليه الهدف غير مشفر طالما انا حددت الاي بي في الخطوة السابقة
      وهذه هي عملية الاستشمام اذا دخل الهدف اسم مستخدم وكلمة مرور راح يبين في بيتر ماب انها عملية بوست ويعطينا المعلومات ويمكن تطبيقها على جميع الاجهزة داخل الشبكة من جولات واجهزة
      ======
      ملخص العملية 
      1-sudo bettercap  يفتحلي البرنامج
      2-help  نشوف ايش العمليات اللي شغالة
      3-net.probe on  يطلعلي الاجهزة اللي داخل الشبكة
      4-set arp.spoof.fulduplex true ايهام الراوتر باني الويندوز والعكس
      5-set arp.spoof.targets 192.000.0000 حددنا الهدف
      6-arp.spoof on   سممناها والان نحن في منتصف الهجمة
      7-net.sniff on  اراقب الهدف ايش المواقع اللي يتصفحها واليوزروالباسورد اللي يدخلها
      -----------------------------------------------------------------------------------------
      net.probe on
      set arp.spoof.fulduplex true
      set arp.spoof.targets 192.000.0000
      arp.spoof on
      net.sniff on
      لو نبغى نسوي الكلام هذا كله في عبارة وحدة 
      ننسخ الكلام اللي فوق الخمس اسطر الى المذكرة في الكالي
      اولشي نوقف العملية في بيتركاب بكلمة exit
      ونروح للمذكرة في الكالي ونحفظها باسم 
      spoof.cap
      واحظه على سطح المكتب في كالي
      ثم نفتح موجه الاوامر ونكتب التالي
      sudo bettercap -caplet /home/kali/Desktop/spoof.cap
      وكدا يدخلنا على طول عن طريق هذا السطر فقط الى نظام المراقبة
     =============================== https  تجاوز ==========================
     
     
     
     
     
    
    https://www.youtube.com/watch?v=tQ4Xd5vAZus
    https://nmap.org/download.html
